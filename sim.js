var sim = function(e){function c(a){return a?e.getElementById(a)||{}:e.body}function g(a,b,d){var h,c=e.createEventObject?e.createEventObject():e.createEvent("Events");c.initEvent&&c.initEvent(b,!0,!0);for(h in d)c[h]=d[h];a.dispatchEvent?a.dispatchEvent(c):a.fireEvent("on"+b,c)}function l(a){return function(){this.actions.push([a].concat([].slice.call(arguments)));return this}}function m(a){function b(){var c=d.actions[++d.index];if(d.index<d.actions.length)k[c[0]](c,b);else d.index=-1,a&&a(d)}var d=this;b()}var f=setTimeout,k={event:function(a,b){g(c(a[1]),a[2],a[3]);f(b,a[4])},click:function(a,b){var d=c(a[1]);"checked"in d&&(d.checked="radio"==d.type?!0:!d.checked);g(c(a[1]),"click");f(b,a[2])},value:function(a,b){c(a[1]).value=a[2];f(b,a[3])},wait:function(a,b){if(a[2]&&a[2].call)var d=+new Date+a[1],c=setInterval(function(){if(a[2]()||+new Date>d)clearInterval(c),b()},50);else f(b,a[1])},key:function(a,b){g(c(a[1]),a[2],{keyCode:a[3],charCode:a[3],shiftKey:!!a[4],ctrlKey:!!a[5],altKey:!!a[6]});f(b,a[7])}};return function(){var a,b={actions:[],index:-1,run:m};for(a in k)b[a]=l(a);return b}}(document);
